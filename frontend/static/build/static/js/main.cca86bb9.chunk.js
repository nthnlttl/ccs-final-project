(this.webpackJsonpstatic=this.webpackJsonpstatic||[]).push([[0],{27:function(e,t,n){},29:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(20),c=n.n(r),i=(n(27),n(5)),o=n(8),l=n.n(o),u=n(12),j=n(9),b=n(2),d=(n(29),n(30),n(31),n(0)),m=["btn--primary","btn--outline"],h=["btn--medium","btn--large"],O=function(e){var t=e.children,n=e.type,s=e.onClick,a=e.buttonStyle,r=e.buttonSize,c=m.includes(a)?a:m[0],o=h.includes(r)?r:h[0];return Object(d.jsx)(i.b,{to:"/registration",className:"btn-mobile",children:Object(d.jsx)("button",{className:"btn ".concat(c," ").concat(o),onClick:s,type:n,children:t})})};var f=function(e){var t=Object(s.useState)(!1),n=Object(j.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(!0),o=Object(j.a)(c,2),l=o[0],u=o[1],b=function(){return r(!1)},m=function(){window.innerwidth<=960?u(!1):u(!0)};return Object(s.useEffect)((function(){m()}),[]),window.addEventListener("resize",m),Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("nav",{className:"navbar",children:Object(d.jsxs)("div",{className:"navbar-container",children:[Object(d.jsxs)(i.b,{to:"/",className:"navbar-logo",onClick:b,children:["S.N.P.A  ",Object(d.jsx)("i",{class:"fas fa-dragon"})]}),Object(d.jsx)("div",{className:"menu-icon",onClick:function(){return r(!a)},children:Object(d.jsx)("i",{className:a?"fas fa-times":"fas fa-bars"})}),Object(d.jsxs)("ul",{className:a?"nav-menu active":"nav-menu",children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/",className:"nav-links",onClick:b,children:"Home"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/Profile",className:"nav-links",onClick:b,children:"Profile"})}),Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{to:"/",className:"nav-links",onClick:b,children:"Adoption Services"})}),Object(d.jsx)("li",{children:Object(d.jsx)(i.c,{to:"/Login",className:"nav-links",onClick:b,children:"Login"})})]}),l&&Object(d.jsx)(O,{buttonStyle:"btn--outline",children:"Register"})]})})})},p=n(14),x=n(10),v=n(11),g=n.n(v);var w=Object(b.h)((function(e){var t=Object(s.useState)({username:"",email:"",password1:"",password2:""}),n=Object(j.a)(t,2),a=n[0],r=n[1],c=Object(s.useState)(null),i=Object(j.a)(c,2),o=(i[0],i[1]);function b(e){var t=e.target,n=t.name,s=t.value;r((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(p.a)({},n,s))}))}function m(e){console.warn(e)}function h(){return(h=Object(u.a)(l.a.mark((function t(n){var s,r,c;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),a.password1===a.password2){t.next=5;break}o("Passwords do not match!"),t.next=19;break;case 5:return s={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(a)},t.next=8,fetch("/rest-auth/registration/",s).catch(m);case 8:if(r=t.sent){t.next=13;break}console.log(r),t.next=19;break;case 13:return t.next=15,r.json();case 15:c=t.sent,g.a.set("Authorization","Token ".concat(c.key)),e.setUser((function(e){return Object(x.a)(Object(x.a)({},e),{},{isAuth:!0})})),e.history.push("/");case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter Username",onChange:b,required:!0,name:"username",value:a.username})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"email",children:"Email"}),Object(d.jsx)("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter Email",onChange:b,required:!0,name:"email",value:a.email})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"password1",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password1",placeholder:"Enter Password",onChange:b,required:!0,name:"password1",value:a.password1})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",id:"password2",placeholder:"Enter Password",onChange:b,required:!0,name:"password2",value:a.password2})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Register"})]})}));var N=Object(b.h)((function(e){var t=Object(s.useState)({username:"",password:""}),n=Object(j.a)(t,2),a=n[0],r=n[1];function c(e){var t=e.target,n=t.name,s=t.value;r((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(p.a)({},n,s))}))}function i(e){console.warn(e)}function o(){return(o=Object(u.a)(l.a.mark((function t(n){var s,c,o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),s={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":g.a.get("csrftoken")},body:JSON.stringify(a)},t.next=4,fetch("/rest-auth/login/",s).catch(i);case 4:if(c=t.sent){t.next=9;break}console.log(c),t.next=15;break;case 9:return t.next=11,c.json();case 11:o=t.sent,g.a.set("Authorization","Token".concat(o.key)),r((function(e){return Object(x.a)(Object(x.a)({},e),{},{isAuth:!0})})),e.history.push("/");case 15:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return e.isAuth?Object(d.jsx)(b.a,{to:"/"}):Object(d.jsxs)("form",{className:"mt-3 col-6",onSubmit:function(e){return o.apply(this,arguments)},children:[Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"username",children:"Username"}),Object(d.jsx)("input",{type:"text",className:"form-control",id:"username",placeholder:"Enter Username",onChange:c,required:!0,name:"username",value:a.username})]}),Object(d.jsxs)("div",{className:"form-group text-left mb-3",children:[Object(d.jsx)("label",{htmlFor:"password",children:"Password"}),Object(d.jsx)("input",{type:"password",className:"form-control",placeholder:"Enter Password",onChange:c,required:!0,name:"password",value:a.password})]}),Object(d.jsx)("button",{type:"submit",className:"btn btn-success",children:"Login"})]})}));var k=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("h1",{children:"Landing Page"})}),Object(d.jsx)("div",{className:"header-login-form",children:Object(d.jsx)(N,{})})]})};var y=function(e){var t=Object(s.useState)(null),n=Object(j.a)(t,2),a=n[0],r=n[1],c=Object(b.g)();Object(s.useEffect)((function(){var e=function(){var e=Object(u.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/rest-auth/user/");case 2:if((t=e.sent).ok){e.next=7;break}r({isAuth:!1}),e.next=11;break;case 7:return e.next=9,t.json();case 9:n=e.sent,r({isAuth:!0,isAdmin:n.is_staff});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[c]);var i=null===a||void 0===a?void 0:a.isAuth;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(f,{}),Object(d.jsxs)(b.d,{children:[Object(d.jsx)(b.b,{path:"/registration",children:Object(d.jsx)(w,{})}),Object(d.jsx)(b.b,{path:"/login",children:Object(d.jsx)(N,{isAuth:i,user:a,setUser:r})}),Object(d.jsx)(b.b,{path:"/",children:Object(d.jsx)(k,{})})]})]})},C=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),s(e),a(e),r(e),c(e)}))};c.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(y,{})})}),document.getElementById("root")),C()}},[[38,1,2]]]);
//# sourceMappingURL=main.cca86bb9.chunk.js.map